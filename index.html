<!DOCTYPE html>
<html lang="en">
  <head>

    <title>FUTURES Inundation Dashboard</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="main.css">

    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet' />



    <link
       rel="stylesheet"
       href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
       integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
       crossorigin=""
     />

     <script
       src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
       integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
       crossorigin=""
     ></script>
     <script src="https://unpkg.com/leaflet@1.0.1/dist/leaflet.js"></script>
     <script src="https://unpkg.com/sql.js@0.3.2/js/sql.js"></script>
     <!-- <script src="https://unpkg.com/leaflet.tilelayer.mbtiles@latest/Leaflet.TileLayer.MBTiles.js"></script> -->
     <script src="./plugins/Leaflet.TileLayer.MBTiles.js" type="text/javascript"></script>

     <!-- Load Esri Leaflet from CDN -->
      <script src="https://unpkg.com/esri-leaflet@2.3.3/dist/esri-leaflet.js"
      integrity="sha512-cMQ5e58BDuu1pr9BQ/eGRn6HaR6Olh0ofcHFWe5XesdCITVuSBiBZZbhCijBe5ya238f/zMMRYIMIIg1jxv4sQ=="
      crossorigin=""></script>

      <link type="text/css" rel="stylesheet" href="https://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css" />
      <script src="https://code.jquery.com/jquery-1.9.1.min.js" crossorigin="anonymous"></script>
      <script src="https://code.jquery.com/ui/1.9.2/jquery-ui.js" crossorigin="anonymous"></script>

      <!-- <link type="text/css" rel="stylesheet" href="https://unpkg.com/browse/jquery-ui-css@1.11.5/jquery-ui.css" />
      <script src="https://unpkg.com/browse/jquery@3.3.1/dist/jquery.min.js"></script>
      <script src="https://unpkg.com/browse/jquery-ui-css@1.11.5/jquery-ui.js"></script> -->

      <script src='./plugins/SliderControl.js' type="text/javascript"></script>
  </head>

<body>
<!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<!-- START Navigation Bar -->
<nav class="navbar navbar-expand-md">
  <!-- <a class="navbar-brand" href="#">FUTURES Development and Flooding</a> -->
  <!-- <font color="white" face="Arial">Visualizing Future Urbanization Patterns and Vulnerability to Flooding </font> -->
  <pre> <span style='color: white; font-size: 16pt; font-weight: bold; font-family: Arial;'>Visualizing Future Urbanization Patterns and Vulnerability to Flooding</span>
  <span style='color: white; font-size: 12pt; font-family: Arial;'>A Case Study of Hurricane Florence</span></pre>
  <button class="navbar-toggler navbar-dark" type="button" data-toggle="collapse" data-target="#main-navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
</nav>
<!-- END Navigation Bar -->

<div class="container">

  <!-- START Map and Text Describing Viz-->
  <div class="row">
    <div class="col-lg-8" id="map"></div>
    <div class="col-lg-4" id="TextDesc" style="color: #C5C5C5;">
      <h4>Visualization Description</h4>
      <p> How will the effects of large flood events, such as those produced by Hurricanes, change as development patterns continue to increase?
        This dashboard attempts to answer this question by combinining model outputs from two different simulations: 1) the Future Urban-Regional Environment Simulation (FUTURES), and
        2) the National Water Model integrated Height Above the Nearest Drainage (NWM-HAND) methodology. FUTURES is a model that projects future urbanization patterns and is simulated
      for a few watersheds along the North Carolina coast near Wilmington, NC for 2025, 2030, 2035, and 2038. The outputs of this simulation show future locations of development. The National
    Water Model produces forecast and reanalysis products for stream discharges throughout CONUS. The stream discharges are obtained throughout Hurricane Florence, September 14th -
    September 17th, 2018 (peak flood), and are converted to stage heights along each stream reach in the study area. HAND is a geometry driven model that works by normalizing
     elevation with respect to the drainage network, and can be used to simulate inundation given a stream stage height. HAND is used to simulate inundation for each day of Hurricane Florence
     with stage heights calculated from NWM outputs. Inundation simulations for Hurricane Florence are meant to act as a proxy for what large flood events will look like in the future. The map shows
     1) FUTURES development projections for each year of the simulation, 2) NWM-HAND inundation simulations for each day of Hurricane Florence, and 3) changes in flood vulnerability -- difference in
     meters of inundation experienced for developed areas between 2025 - 2038 -- pinpointing high-risk developed areas.</p>
    </div>
    <!-- END Map and Text Describing Viz-->

    <!-- START Map Legend-->
  <div class="row">
        <div class="card text-white bg-dark mb-3" style="max-width: 100rem;" id="legends">
          <div id="legend_name" class="card-header"> Map Legend</div>
          <div class="card-body">
            <svg width="180" height="180" id="svg1">
              <text id="legend_title" x="17" y="12">FUTURES by Year</text>
              <rect id="rect" x="10" y="30" height="20" width="30" style="stroke-width:1; stroke:#f80004; fill:#f80004; fill-opacity:1;"/>
              <text id="legend_labels" x="50" y="45">Developed</text>
            </svg>
            <svg width="180" height="180" id="svg2">
              <text id="legend_title" x="12" y="13">FUTURES All Years</text>
              <rect id="rect" x="10" y="32" height="20" width="30" style="stroke-width:1; stroke:#baf299; fill:#baf299; fill-opacity:1;"/>
              <text id="legend_labels" x="50" y="45">Undeveloped</text>
              <rect id="rect" x="10" y="50" height="20" width="30" style="stroke-width:1; stroke:#a4a4a4; fill:#a4a4a4; fill-opacity:1;"/>
              <text id="legend_labels" x="50" y="65">2011 Developed</text>
              <rect id="rect" x="10" y="70" height="20" width="30" style="stroke-width:1; stroke:#c7a3a4; fill:#c7a3a4; fill-opacity:1;"/>
              <text id="legend_labels" x="50" y="85">2025 Developed</text>
              <rect id="rect" x="10" y="90" height="20" width="30" style="stroke-width:1; stroke:#e98082; fill:#e98082; fill-opacity:1;"/>
              <text id="legend_labels" x="50" y="105">2030 Developed</text>
              <rect id="rect" x="10" y="110" height="20" width="30" style="stroke-width:1; stroke:#ce553c; fill:#ce553c; fill-opacity:1;"/>
              <text id="legend_labels" x="50" y="125">2035 Developed</text>
              <rect id="rect" x="10" y="130" height="20" width="30" style="stroke-width:1; stroke:#f80004; fill:#f80004; fill-opacity:1;"/>
              <text id="legend_labels" x="50" y="145">2038 Developed</text>
              ></svg>
              <svg width="180" height="180" id="svg3">
                <text id="legend_title" x="12" y="13">Inundation Levels</text>
                <rect id="rect" x="10" y="32" height="20" width="30" style="stroke-width:1; stroke:#c6dbef; fill:#c6dbef; fill-opacity:1;"/>
                <text id="legend_labels" x="50" y="45">0.05 m</text>
                <rect id="rect" x="10" y="50" height="20" width="30" style="stroke-width:1; stroke:#9ecae1; fill:#9ecae1; fill-opacity:1;"/>
                <text id="legend_labels" x="50" y="65">1 m</text>
                <rect id="rect" x="10" y="70" height="20" width="30" style="stroke-width:1; stroke:#6baed6; fill:#6baed6; fill-opacity:1;"/>
                <text id="legend_labels" x="50" y="85">5 m</text>
                <rect id="rect" x="10" y="90" height="20" width="30" style="stroke-width:1; stroke:#4292c6; fill:#4292c6; fill-opacity:1;"/>
                <text id="legend_labels" x="50" y="105">10 m</text>
                <rect id="rect" x="10" y="110" height="20" width="30" style="stroke-width:1; stroke:#2171b5; fill:#2171b5; fill-opacity:1;"/>
                <text id="legend_labels" x="50" y="125">30 m</text>
                <rect id="rect" x="10" y="130" height="20" width="30" style="stroke-width:1; stroke:#08519c; fill:#08519c; fill-opacity:1;"/>
                <text id="legend_labels" x="50" y="145">75 m</text>
                <rect id="rect" x="10" y="150" height="20" width="30" style="stroke-width:1; stroke:#08306b; fill:#08306b; fill-opacity:1;"/>
                <text id="legend_labels" x="50" y="163">180 m</text>
                ></svg>
                <svg width="180" height="180" id="svg4">
                  <text id="legend_title" x="3" y="13">Vulnerability Change</text>
                  <rect id="rect" x="10" y="32" height="20" width="30" style="stroke-width:1; stroke:#f7fbff; fill:#f7fbff; fill-opacity:1;"/>
                  <text id="legend_labels" x="50" y="45">0 m</text>
                  <rect id="rect" x="10" y="50" height="20" width="30" style="stroke-width:1; stroke:#ffecb1; fill:#ffecb1; fill-opacity:1;"/>
                  <text id="legend_labels" x="50" y="65">5 m</text>
                  <rect id="rect" x="10" y="70" height="20" width="30" style="stroke-width:1; stroke:#fed98e; fill:#fed98e; fill-opacity:1;"/>
                  <text id="legend_labels" x="50" y="85">10 m</text>
                  <rect id="rect" x="10" y="90" height="20" width="30" style="stroke-width:1; stroke:#fe9929; fill:#fe9929; fill-opacity:1;"/>
                  <text id="legend_labels" x="50" y="105">20 m</text>
                  <rect id="rect" x="10" y="110" height="20" width="30" style="stroke-width:1; stroke:#d95f0e; fill:#d95f0e; fill-opacity:1;"/>
                  <text id="legend_labels" x="50" y="125">30 m</text>
                  <rect id="rect" x="10" y="130" height="20" width="30" style="stroke-width:1; stroke:#993404; fill:#993404; fill-opacity:1;"/>
                  <text id="legend_labels" x="50" y="145">45 m</text>
                  ></svg>
          </div>
        </div>
        <!-- END Map Legend-->

    <!-- START Development Projections Plot-->
    <div class="col-lg-6" id="ProjDev"></div>
    <!-- END Development Projections Plot-->

  <!-- <div class="row"> -->
    <!-- <div class="col-sm-6" id='map' style='width: 300px; height: 500px;'></div> -->
    <!-- <div class="col-sm-6" style="height: 500px; width: 275px; background-color: blue; border-radius: 15px;"></div> -->
  <!-- END FUTURES Projected Development Plot and Text Describing FUTURES -->

  <!-- START Mapbox Plot -->
      <!-- <div class="col-sm-6" id="myDiv2"> -->
    <!-- <div class="row">
      <div class="col-sm-6" style="height: 100px; width: 300px; background-color: white; border-radius: 15px;"> -->
      <!-- <div class="col-sm-6" id="myDiv" style="color: white;"> -->
        <!-- <script src="plot1.js"></script> -->
        <!-- <script src="plot2.js"></script> -->
      <!-- </div> -->
  <!-- END Mapbox Plot -->

    <!-- <div class="row"> -->
      <!-- <div class="col-sm-6">
        <div id="Test_block" style="height: 20px; width: 500px; background-color: pink; border-radius: 15px;">Test1</div>
       </div> -->

<!-- START Buttons -->
    <div class="row">
      <div class="col-lg-6">
        <div class="btn-group btn-group-toggle" data-toggle="buttons" id="InundYearButtons">
          <label class="btn btn-secondary active">
            <input id="InundPlot_2025" type="radio" value="p_2025" name="options" autocomplete="off" checked> 2025
          </label>
          <label class="btn btn-secondary">
            <input id="InundPlot_2030" type="radio" value="p_2030" name="options" autocomplete="off"> 2030
          </label>
          <label class="btn btn-secondary">
            <input id="InundPlot_2035" type="radio" value="p_2035" name="options" autocomplete="off"> 2035
          </label>
          <label class="btn btn-secondary">
            <input id="InundPlot_2038" type="radio" value="p_2038" name="options" autocomplete="off"> 2038
          </label>
        </div>
      </div>
    </div>

    <div class="col-lg-6" style='margin-top: 10px;'>
      <div class="btn-group btn-group-toggle" data-toggle="buttons" id="InundAmountButtons">
        <label class="btn btn-secondary active">
          <input id="Inund_0_1" type="radio" value="p_1" name="options2" autocomplete="off" checked> 0.05 - 1 m
        </label>
        <label class="btn btn-secondary">
          <input id="Inund_1_5" type="radio" value="p_2" name="options2" autocomplete="off"> 1 - 5 m
        </label>
        <label class="btn btn-secondary">
          <input id="Inund_5" type="radio" value="p_3" name="options2" autocomplete="off"> > 5 m
        </label>
      </div>
    </div>
    <!-- END Buttons -->

    <!-- START Inundation by Day and Year Plots -->
  <div class="row">
      <div class="col-lg-6">
        <div id="InundByYear"</div>
      </div>
    </div>
    <div class="col-lg-6" style='margin-top: 100px; margin-left: -100px; margin-bottom: 200px;'>
      <div id="InundByDay">
      </div>
    </div>
  </div>
  <!-- <div class="row">
      <div class="col-sm-12" style="color: #C5C5C5; padding-top: 0px; padding-right: 0px; font-size: 12px;" id="InundByDay_Text" >
        <p>*Note: Y-axis ranges are different between plots</p>
        </div>
    </div> -->

  <!-- </div> -->
  <!-- <div class="col-sm-6" style="color: #C5C5C5; padding-top: 500px; padding-left: 100px; font-size: 12px;" id="InundByDay_Text" >
    <p>*Note: Y-axis ranges are different between plots</p>
    </div> -->
  <!-- </div> -->
<!-- </div> -->
  <!-- END Inundation by Day and Year Plots -->

  <div class="row">
  <div class="col-lg-12" id="reference_title" style='margin-top: 60px;'>
    <p>References</p>
  </div>
  <div class="col-lg-12" style="color: #C5C5C5; margin-top: -40px; padding-left: 50px; font-size: 18px;">
    <pre><span style='color: #C5C5C5; font-size: 10pt; font-family: Arial;'>

    Meentemeyer, R. K., Tang, W., Dorning, M. A., Vogler, J. B., Cunniffe, N. J., & Shoemaker, D. A. (2013). FUTURES: Multilevel simulations of emerging Urban—Rural
    landscape structure using a stochastic patch-growing algorithm. Annals of the Association of American Geographers, 103(4), 785-807.

    Nobre, A. D., Cuartas, L. A., Hodnett, M., Rennó, C. D., Rodrigues, G., Silveira, A., . . . Saleska, S. (2011). Height above the nearest drainage – a hydrologically
    relevant new terrain model. Journal of Hydrology, 404(1), 13-29. doi:10.1016/j.jhydrol.2011.03.051.

    Yan Y. Liu  David R. Maidment  David G. Tarboton  Xing Zheng  Shaowen Wang. (2018). A CyberGIS Integration and Computation Framework for High‐Resolution Continental‐Scale
    Flood Inundation Mapping. Journal of the American Water Resources Association. 50, 4, 770784. DOI: https://doi.org/10.1111/1752-1688.12660

    National Water Model: https://water.noaa.gov/about/nwm
    </span></pre>
  </div>

  </div>
</div>
<script src='script.js' type="text/javascript"></script>

</body>
